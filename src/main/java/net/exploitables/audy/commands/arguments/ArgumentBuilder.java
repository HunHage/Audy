/*
 * This file is a part of https://github.com/HunHage/Audy, also known as Audy
 *
 * Audy is licensed under the Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License.
 * To view a copy of this license, visit http://creativecommons.org/licenses/by-nc-sa/4.0/ or send a letter to
 * Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
 *
 * Audy is provided without any warranty, including any implied warranty.
 */

package net.exploitables.audy.commands.arguments;

/**
 * A builder for {@link Argument}
 */
public class ArgumentBuilder {
    private String shortOpt;
    private String longOpt;
    private boolean required;
    private boolean hasParameter;
    private String parameterName;
    private String description;
    private ArgumentValueParser parser;

    /**
     * Create a new builder with the minimum required information
     * @param shortOpt the short option identifier for this argument
     * @param longOpt the long option identifier for this argument
     * @param description a description of what this argument does
     */
    public ArgumentBuilder(String shortOpt, String longOpt, String description) {
        this.shortOpt = shortOpt;
        this.longOpt = longOpt;
        this.required = false;
        this.hasParameter = false;
        this.parameterName = "";
        this.description = description;
        this.parser = (s) -> null;
    }

    public ArgumentBuilder setRequired(boolean required) {
        this.required = required;
        return this;
    }

    public ArgumentBuilder setHasParameter() {
        this.hasParameter = true;
        return this;
    }

    public ArgumentBuilder setParameterName(String parameterName) {
        this.parameterName = parameterName;
        return this;
    }

    public ArgumentBuilder setValueParser(ArgumentValueParser parser) {
        this.parser = parser;
        return this;
    }

    /**
     * @return an {@link Argument} instance based on the data added to this instance.
     */
    public Argument build() {
        return new Argument(shortOpt, longOpt, required, hasParameter, parameterName, description, parser);
    }
}
